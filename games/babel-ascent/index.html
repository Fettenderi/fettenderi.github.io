<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><title>
         Babel Ascent
        
    </title><link href=/icon/favicon.png rel=icon type=image/png><link href=https://fettenderi.github.io/fonts.css rel=stylesheet><script src=https://fettenderi.github.io/js/toc.js></script><link title="Marco Manganaro" href=https://fettenderi.github.io/atom.xml rel=alternate type=application/atom+xml><link href=https://fettenderi.github.io/theme/babel.css rel=stylesheet><script src=https://fettenderi.github.io/js/themetoggle.js></script><script>setTheme("babel")</script><link href=https://fettenderi.github.io/main.css media=screen rel=stylesheet><body><div class=content><header><div class=main><a href=https://fettenderi.github.io> <strong id=title> Marco Manganaro </strong> <div id=description>Technical Gameplay Designer</div> </a></div><nav><a href=mailto:marco.manganaro03@gmail.com id=menu-item target=_blank>/mail</a><a href=https://www.linkedin.com/in/marco-manganaro/ id=menu-item target=_blank>/linkedin</a><a href=https://github.com/Fettenderi id=menu-item target=_blank>/github</a><a href=https://fettenderi.itch.io id=menu-item target=_blank>/itch.io</a><a href=https://linktr.ee/fettenderi id=menu-item target=_blank>/linktree</a></nav></header><main><article><div class=title><div class=page-header>Babel Ascent<span class=primary-color style=font-size:1.6em>.</span></div><div class=card-tags><strong class=card-tag style=background:var(--card-tags-bg-2)> #godot-engine </strong><strong class=card-tag style=background:var(--card-tags-bg-2)> #team </strong><strong class=card-tag style=background:var(--card-tags-bg-2)> #lead-designer </strong><strong class=card-tag style=background:var(--card-tags-bg-2)> #technical-gameplay-designer </strong><strong class=card-tag style=background:var(--card-tags-bg-2)> #vr </strong><strong class=card-tag style=background:var(--card-tags-bg-2)> #shader </strong><strong class=card-tag style=background:var(--card-tags-bg-2)> #github </strong></div><div class=meta></div></div><div class=toc-container><h1 class=toc-title>Table of Contents</h1><ul class=toc-list><li><a href=https://fettenderi.github.io/games/babel-ascent/#the-idea>The idea</a><li><a href=https://fettenderi.github.io/games/babel-ascent/#aesthetics>Aesthetics</a><li><a href=https://fettenderi.github.io/games/babel-ascent/#gameplay>Gameplay</a><li><a href=https://fettenderi.github.io/games/babel-ascent/#the-lurking-merchant>The Lurking Merchant</a></ul></div><section class=body><div class=gallery><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" src="https://www.youtube.com/embed/gEMYtLm-8uY?si=rjLIaHoLB0D_y3Nd" title="Babel Ascent Trailer" allowfullscreen class=gallery-video frameborder=0 height=225 referrerpolicy=strict-origin-when-cross-origin width=400></iframe><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" src="https://www.youtube.com/embed/StAaA7DYxMg?si=MtQHS2mt9SeBrxY8" title="Babel Ascent Playthrough" allowfullscreen class=gallery-video frameborder=0 height=225 referrerpolicy=strict-origin-when-cross-origin width=400></iframe></div><p>After working on a few small projects in VR, I wanted to create an actual game using my acquired knowledge. So <a href=https://unconscious-motifs.itch.io>UnconsciousMotifs</a>, <a href=https://itch.io/profile/andrea-ferretti>BatFerro</a> and I were full of energy to start working on this project.<h1 id=the-idea>The idea</h1><p>The game was developed for the <a href=https://itch.io/jam/1-bit-jam-4>1-BIT JAM #4</a> and the main theme was Tower, so the first thing that came to mind was a tower defense. To fully embrace the theme, we decided to have the tower's height upgradable, this led us to the idea of the Tower of Babel, and from there, biblically accurate angels became an obvious choice.<h1 id=aesthetics>Aesthetics</h1><p>To quickly create models while also achieving a unique art style, I worked on a dithering shader, heavily inspired by Return of the Obra Dinn, though not quite at the same level. I implemented two GLSL shaders using the new CompositorEffect feature of Godot 4.3.<div class=gallery><img class=solo-image src=https://fettenderi.github.io/processed_images/aesthetics.b2434bb5c474350e.png></div><p>The first shader was needed for the dithering and edge detection.<pre class=language-comp data-lang=comp data-linenos style=background:#2b303b;color:#c0c5ce><code class=language-comp data-lang=comp><table><tbody><tr><td>1<td><span>#[compute]
</span><tr><td>2<td><span style=color:#b48ead>#version</span><span> 450
</span><tr><td>3<td><span>
</span><tr><td>4<td><span style=color:#b48ead>layout</span><span>(local_size_x = </span><span style=color:#d08770>16</span><span>, local_size_y = </span><span style=color:#d08770>16</span><span>, local_size_z = </span><span style=color:#d08770>1</span><span>) </span><span style=color:#b48ead>in</span><span>;
</span><tr><td>5<td><span>
</span><tr><td>6<td><span style=color:#b48ead>layout</span><span>(rgba16f, binding = </span><span style=color:#d08770>0</span><span>, set = </span><span style=color:#d08770>0</span><span>) </span><span style=color:#b48ead>uniform image2D</span><span> screen_texture;
</span><tr><td>7<td><span style=color:#b48ead>layout</span><span>(binding = </span><span style=color:#d08770>0</span><span>, set = </span><span style=color:#d08770>1</span><span>) </span><span style=color:#b48ead>uniform sampler2D</span><span> depth_texture;
</span><tr><td>8<td><span>
</span><tr><td>9<td><span style=color:#b48ead>layout</span><span>(push_constant, std430) </span><span style=color:#b48ead>uniform</span><span> Params {
</span><tr><td>10<td><span>    </span><span style=color:#b48ead>vec2</span><span> screen_size;
</span><tr><td>11<td><span>    </span><span style=color:#b48ead>float</span><span> inv_proj_2w;
</span><tr><td>12<td><span>    </span><span style=color:#b48ead>float</span><span> inv_proj_3w;
</span><tr><td>13<td><span>} p;
</span><tr><td>14<td><span>
</span><tr><td>15<td><span style=color:#b48ead>const float</span><span> pattern2[</span><span style=color:#d08770>4</span><span>] = </span><span style=color:#b48ead>float</span><span>[](
</span><tr><td>16<td><span>    </span><span style=color:#d08770>0.0 </span><span>/ </span><span style=color:#d08770>4.0</span><span>, </span><span style=color:#d08770>2.0 </span><span>/ </span><span style=color:#d08770>4.0</span><span>,
</span><tr><td>17<td><span>    </span><span style=color:#d08770>3.0 </span><span>/ </span><span style=color:#d08770>4.0</span><span>, </span><span style=color:#d08770>1.0 </span><span>/ </span><span style=color:#d08770>4.0
</span><tr><td>18<td><span>);
</span><tr><td>19<td><span>
</span><tr><td>20<td><span style=color:#b48ead>vec4 </span><span style=color:#8fa1b3>effect</span><span>(</span><span style=color:#b48ead>vec4 </span><span style=color:#bf616a>color</span><span>, </span><span style=color:#b48ead>ivec2 </span><span style=color:#bf616a>pixel_position</span><span>, </span><span style=color:#b48ead>vec2 </span><span style=color:#bf616a>uv</span><span>);
</span><tr><td>21<td><span>
</span><tr><td>22<td><span style=color:#b48ead>float </span><span style=color:#8fa1b3>get_bayer2_value</span><span>(</span><span style=color:#b48ead>ivec2 </span><span style=color:#bf616a>pixel_coord</span><span>);
</span><tr><td>23<td><span style=color:#b48ead>float </span><span style=color:#8fa1b3>get_border</span><span>(</span><span style=color:#b48ead>float </span><span style=color:#bf616a>thickness</span><span>, </span><span style=color:#b48ead>vec2 </span><span style=color:#bf616a>uv</span><span>);
</span><tr><td>24<td><span>
</span><tr><td>25<td><span style=color:#b48ead>float </span><span style=color:#8fa1b3>get_depth</span><span>(</span><span style=color:#b48ead>vec2 </span><span style=color:#bf616a>uv</span><span>);
</span><tr><td>26<td><span>
</span><tr><td>27<td><span style=color:#b48ead>void </span><span style=color:#8fa1b3>main</span><span>() {
</span><tr><td>28<td><span>    </span><span style=color:#b48ead>ivec2</span><span> pixel = </span><span style=color:#b48ead>ivec2</span><span>(gl_GlobalInvocationID.</span><span style=color:#bf616a>xy</span><span>);
</span><tr><td>29<td><span>    </span><span style=color:#b48ead>vec2</span><span> size = p.</span><span style=color:#bf616a>screen_size</span><span>;
</span><tr><td>30<td><span>    </span><span style=color:#b48ead>int</span><span> down_scaling_factor = </span><span style=color:#d08770>2</span><span>;
</span><tr><td>31<td><span>
</span><tr><td>32<td><span>    </span><span style=color:#b48ead>vec2</span><span> uv = pixel * down_scaling_factor / size;
</span><tr><td>33<td><span>
</span><tr><td>34<td><span>    </span><span style=color:#b48ead>if </span><span>(pixel.</span><span style=color:#bf616a>x </span><span>>= size.</span><span style=color:#bf616a>x </span><span>|| pixel.</span><span style=color:#bf616a>y </span><span>>= size.</span><span style=color:#bf616a>y</span><span>) </span><span style=color:#b48ead>return</span><span>;
</span><tr><td>35<td><span>		
</span><tr><td>36<td><span>    </span><span style=color:#b48ead>vec4</span><span> color = </span><span style=color:#bf616a>imageLoad</span><span>(screen_texture, pixel * down_scaling_factor);
</span><tr><td>37<td><span>	
</span><tr><td>38<td><span>    color = </span><span style=color:#bf616a>effect</span><span>(color, pixel, uv);
</span><tr><td>39<td><span>	
</span><tr><td>40<td><span>    </span><span style=color:#b48ead>for </span><span>(</span><span style=color:#b48ead>int</span><span> i = </span><span style=color:#d08770>0</span><span>; i < down_scaling_factor; i++) {
</span><tr><td>41<td><span>        </span><span style=color:#b48ead>for </span><span>(</span><span style=color:#b48ead>int</span><span> j = </span><span style=color:#d08770>0</span><span>; j < down_scaling_factor; j++) {
</span><tr><td>42<td><span>            </span><span style=color:#bf616a>imageStore</span><span>(screen_texture, pixel * down_scaling_factor + </span><span style=color:#b48ead>ivec2</span><span>(i, j), color);
</span><tr><td>43<td><span>        }
</span><tr><td>44<td><span>    }
</span><tr><td>45<td><span>}
</span><tr><td>46<td><span>
</span><tr><td>47<td><span style=color:#b48ead>vec4 </span><span style=color:#8fa1b3>effect</span><span>(</span><span style=color:#b48ead>vec4 </span><span style=color:#bf616a>color</span><span>, </span><span style=color:#b48ead>ivec2 </span><span style=color:#bf616a>pixel_position</span><span>, </span><span style=color:#b48ead>vec2 </span><span style=color:#bf616a>uv</span><span>) {
</span><tr><td>48<td><span>    </span><span style=color:#b48ead>float</span><span> gray = color.</span><span style=color:#bf616a>r </span><span>* </span><span style=color:#d08770>0.2125 </span><span>+ color.</span><span style=color:#bf616a>g </span><span>* </span><span style=color:#d08770>0.7154 </span><span>+ color.</span><span style=color:#bf616a>b </span><span>* </span><span style=color:#d08770>0.0721</span><span>;
</span><tr><td>49<td><span>    gray = </span><span style=color:#96b5b4>clamp</span><span>(</span><span style=color:#bf616a>get_border</span><span>(</span><span style=color:#d08770>0.002</span><span>, uv) + gray, </span><span style=color:#d08770>0.0</span><span>, </span><span style=color:#d08770>1.0</span><span>);
</span><tr><td>50<td><span>	
</span><tr><td>51<td><span>    </span><span style=color:#b48ead>float</span><span> dither_value = </span><span style=color:#bf616a>get_bayer2_value</span><span>(pixel_position);
</span><tr><td>52<td><span>	
</span><tr><td>53<td><span>    </span><span style=color:#b48ead>if </span><span>(gray > dither_value + </span><span style=color:#d08770>0.3</span><span>) {
</span><tr><td>54<td><span>        color = </span><span style=color:#b48ead>vec4</span><span>(</span><span style=color:#b48ead>vec3</span><span>(</span><span style=color:#d08770>1.0</span><span>), </span><span style=color:#d08770>1.0</span><span>);
</span><tr><td>55<td><span>    } </span><span style=color:#b48ead>else </span><span>{
</span><tr><td>56<td><span>        color = </span><span style=color:#b48ead>vec4</span><span>(</span><span style=color:#b48ead>vec3</span><span>(</span><span style=color:#d08770>0.0</span><span>), </span><span style=color:#d08770>1.0</span><span>);
</span><tr><td>57<td><span>    }
</span><tr><td>58<td><span>	
</span><tr><td>59<td><span>    </span><span style=color:#b48ead>return</span><span> color;
</span><tr><td>60<td><span>}
</span><tr><td>61<td><span>
</span><tr><td>62<td><span style=color:#b48ead>float </span><span style=color:#8fa1b3>get_bayer2_value</span><span>(</span><span style=color:#b48ead>ivec2 </span><span style=color:#bf616a>pixel_coord</span><span>) {
</span><tr><td>63<td><span>    </span><span style=color:#b48ead>int</span><span> index = (pixel_coord.</span><span style=color:#bf616a>y </span><span>% </span><span style=color:#d08770>2</span><span>) * </span><span style=color:#d08770>2 </span><span>+ (pixel_coord.</span><span style=color:#bf616a>x </span><span>% </span><span style=color:#d08770>2</span><span>);
</span><tr><td>64<td><span>    </span><span style=color:#b48ead>return</span><span> pattern2[index];
</span><tr><td>65<td><span>}
</span><tr><td>66<td><span>
</span><tr><td>67<td><span style=color:#b48ead>float </span><span style=color:#8fa1b3>get_border</span><span>(</span><span style=color:#b48ead>float </span><span style=color:#bf616a>thickness</span><span>, </span><span style=color:#b48ead>vec2 </span><span style=color:#bf616a>uv</span><span>) {
</span><tr><td>68<td><span>    </span><span style=color:#b48ead>return </span><span style=color:#bf616a>get_depth</span><span>(uv + </span><span style=color:#b48ead>vec2</span><span>(thickness, </span><span style=color:#d08770>0.0</span><span>)) +
</span><tr><td>69<td><span>      </span><span style=color:#bf616a>get_depth</span><span>(uv - </span><span style=color:#b48ead>vec2</span><span>(thickness, </span><span style=color:#d08770>0.0</span><span>)) +
</span><tr><td>70<td><span>      </span><span style=color:#bf616a>get_depth</span><span>(uv + </span><span style=color:#b48ead>vec2</span><span>(</span><span style=color:#d08770>0.0</span><span>, thickness)) +
</span><tr><td>71<td><span>      </span><span style=color:#bf616a>get_depth</span><span>(uv - </span><span style=color:#b48ead>vec2</span><span>(</span><span style=color:#d08770>0.0</span><span>, thickness)) -
</span><tr><td>72<td><span>      </span><span style=color:#d08770>4.0 </span><span>* </span><span style=color:#bf616a>get_depth</span><span>(uv + </span><span style=color:#b48ead>vec2</span><span>(</span><span style=color:#d08770>0.0</span><span>, </span><span style=color:#d08770>0.0</span><span>));
</span><tr><td>73<td><span>}
</span><tr><td>74<td><span>
</span><tr><td>75<td><span style=color:#b48ead>float </span><span style=color:#8fa1b3>get_depth</span><span>(</span><span style=color:#b48ead>vec2 </span><span style=color:#bf616a>uv</span><span>) {
</span><tr><td>76<td><span>    </span><span style=color:#b48ead>float</span><span> depth = </span><span style=color:#96b5b4>texture</span><span>(depth_texture, uv).</span><span style=color:#bf616a>r</span><span>;
</span><tr><td>77<td><span>    </span><span style=color:#b48ead>float</span><span> linear_depth = </span><span style=color:#d08770>1.0 </span><span>/ (depth * p.</span><span style=color:#bf616a>inv_proj_2w </span><span>+ p.</span><span style=color:#bf616a>inv_proj_3w</span><span>);
</span><tr><td>78<td><span>    </span><span style=color:#b48ead>return </span><span style=color:#96b5b4>clamp</span><span>(linear_depth / </span><span style=color:#d08770>100.0</span><span>, </span><span style=color:#d08770>0.0</span><span>, </span><span style=color:#d08770>1.0</span><span>);
</span><tr><td>79<td><span>}
</span></table></code></pre><p>The second one was for selecting color palettes on the fly, at first I had in mind of chaning the palette every once in a while to spice up the mood and aesthetics.<pre class=language-comp data-lang=comp data-linenos style=background:#2b303b;color:#c0c5ce><code class=language-comp data-lang=comp><table><tbody><tr><td>1<td><span>#[compute]
</span><tr><td>2<td><span style=color:#b48ead>#version</span><span> 450
</span><tr><td>3<td><span>
</span><tr><td>4<td><span style=color:#b48ead>layout</span><span>(local_size_x = </span><span style=color:#d08770>16</span><span>, local_size_y = </span><span style=color:#d08770>16</span><span>, local_size_z = </span><span style=color:#d08770>1</span><span>) </span><span style=color:#b48ead>in</span><span>;
</span><tr><td>5<td><span>
</span><tr><td>6<td><span style=color:#b48ead>layout</span><span>(rgba16f, set = </span><span style=color:#d08770>0</span><span>, binding = </span><span style=color:#d08770>0</span><span>) </span><span style=color:#b48ead>uniform image2D</span><span> color_image;
</span><tr><td>7<td><span>
</span><tr><td>8<td><span style=color:#b48ead>layout</span><span>(push_constant, std430) </span><span style=color:#b48ead>uniform</span><span> Params {
</span><tr><td>9<td><span>	</span><span style=color:#b48ead>vec4</span><span> black_color;
</span><tr><td>10<td><span>	</span><span style=color:#b48ead>vec4</span><span> white_color;
</span><tr><td>11<td><span>	</span><span style=color:#b48ead>vec2</span><span> raster_size;
</span><tr><td>12<td><span>} params;
</span><tr><td>13<td><span>
</span><tr><td>14<td><span style=color:#b48ead>void </span><span style=color:#8fa1b3>main</span><span>() {
</span><tr><td>15<td><span>	</span><span style=color:#b48ead>ivec2</span><span> uv = </span><span style=color:#b48ead>ivec2</span><span>(gl_GlobalInvocationID.</span><span style=color:#bf616a>xy</span><span>);
</span><tr><td>16<td><span>	</span><span style=color:#b48ead>ivec2</span><span> size = </span><span style=color:#b48ead>ivec2</span><span>(params.</span><span style=color:#bf616a>raster_size</span><span>);
</span><tr><td>17<td><span>
</span><tr><td>18<td><span>	</span><span style=color:#b48ead>if </span><span>(uv.</span><span style=color:#bf616a>x </span><span>>= size.</span><span style=color:#bf616a>x </span><span>|| uv.</span><span style=color:#bf616a>y </span><span>>= size.</span><span style=color:#bf616a>y</span><span>) {
</span><tr><td>19<td><span>		</span><span style=color:#b48ead>return</span><span>;
</span><tr><td>20<td><span>	}
</span><tr><td>21<td><span>
</span><tr><td>22<td><span>	</span><span style=color:#b48ead>vec4</span><span> color = </span><span style=color:#bf616a>imageLoad</span><span>(color_image, uv);
</span><tr><td>23<td><span>
</span><tr><td>24<td><span>	</span><span style=color:#b48ead>if </span><span>(color.</span><span style=color:#bf616a>r </span><span>> </span><span style=color:#d08770>0.5</span><span>) {
</span><tr><td>25<td><span>		color = params.</span><span style=color:#bf616a>white_color</span><span>;
</span><tr><td>26<td><span>	} </span><span style=color:#b48ead>else </span><span>{
</span><tr><td>27<td><span>		color = params.</span><span style=color:#bf616a>black_color</span><span>;
</span><tr><td>28<td><span>	}
</span><tr><td>29<td><span>	
</span><tr><td>30<td><span>	</span><span style=color:#bf616a>imageStore</span><span>(color_image, uv, color);
</span><tr><td>31<td><span>}
</span></table></code></pre><h1 id=gameplay>Gameplay</h1><p>Initially, we had the cannon and the crossbow in mind as weapons, and the player could unlock or buy them in between of the phases.<p>The cannon deals a huge amount of damage, but charging it is time-consuming. The crossbow is easy to use for long-range attacks but deals low damage. While working on that, I came up with the idea of the harp, a fun and unique weapon. When all strings are touched in the correct order a note is shot. It's a short-range weapon that deals decent damage.<div class=gallery><img class=gallery-image src=https://fettenderi.github.io/processed_images/0_94.cd182923c12402f5.jpg><img class=gallery-image src=https://fettenderi.github.io/processed_images/0_97.deb6a9953eaeb519.jpg><img class=gallery-image src=https://fettenderi.github.io/processed_images/0_93.b61e88807bd1a0d5.jpg></div><p>After some time spent fixing bugs and other mechanics, we introduced close-range weapons, such as the brick, which can be thrown and deals low damage, and the hammer, which is also throwable and can be used for long-range attacks. However, aiming is a bit difficult in a VR game, so to reward the player when thay hit an enemy with it we created an upgraded version of the hammer. When an enemy is hit, all enemies within a certain distance from it get stunned for a short time.<div class=gallery><img class=solo-image src=https://fettenderi.github.io/processed_images/0_92.bc78fdaa76cc7241.jpg></div><h1 id=the-lurking-merchant>The Lurking Merchant</h1><p>We wanted a mysterious-looking figure to sell you all the weapons and upgrades, to reinforce the theme of a corrupted ascent. He comes in between fights and will offer the player different items that can be purchased using orbs of light dropped by the enemies.<div class=gallery><img class=solo-image src=https://fettenderi.github.io/processed_images/0_98.36f76a186e0feb32.jpg></div><p>When an item is chosen, light will be removed from the scale and the merchant will let you know he's ready to seal the deal through a handshake.<div class=gallery><img class=solo-image src=https://fettenderi.github.io/processed_images/0_99.aa25b627c98f3712.jpg></div><p>If you have a VR headset and at least a GeForce GTX 1660 Ti you can run it!<div class=button-container><a class=text-button href=https://fettenderi.itch.io/babel-ascent target=_blank>Try it!</a><a class=text-button href=https://github.com/Fettenderi/Babel-Ascent target=_blank>Source Code</a></div></section></article></main></div><footer>made by <a class=white href>fettenderi</a> | 2024 - 2024 © <br> built using <a href=https://www.getzola.org>zola</a>, based on <a href=https://github.com/not-matthias/apollo>apollo</a></footer>